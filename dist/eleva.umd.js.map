{"version":3,"file":"eleva.umd.js","sources":["../src/modules/TemplateEngine.js","../src/modules/Signal.js","../src/modules/Emitter.js","../src/modules/Renderer.js","../src/core/Eleva.js"],"sourcesContent":["\"use strict\";\n\n/**\n * @class üîí TemplateEngine\n * @classdesc Secure interpolation & dynamic attribute parsing.\n * Provides methods to parse template strings by replacing interpolation expressions\n * with dynamic data values and to evaluate expressions within a given data context.\n */\nexport class TemplateEngine {\n  /**\n   * Parses a template string and replaces interpolation expressions with corresponding values.\n   *\n   * @param {string} template - The template string containing expressions in the format `{{ expression }}`.\n   * @param {Object<string, any>} data - The data object to use for evaluating expressions.\n   * @returns {string} The resulting string with evaluated values.\n   */\n  static parse(template, data) {\n    if (!template.trim()) return \"\";\n\n    return template.replace(/\\{\\{\\s*(.*?)\\s*\\}\\}/g, (_, expr) => {\n      const value = this.evaluate(expr, data);\n      return value === undefined ? \"\" : value;\n    });\n  }\n\n  /**\n   * Evaluates a JavaScript expression using the provided data context.\n   *\n   * @param {string} expr - The JavaScript expression to evaluate.\n   * @param {Object<string, any>} data - The data context for evaluating the expression.\n   * @returns {any} The result of the evaluated expression, or an empty string if undefined or on error.\n   */\n  static evaluate(expr, data) {\n    try {\n      if (!expr.trim()) return \"\";\n\n      const keys = Object.keys(data);\n      const values = Object.values(data);\n      const result = new Function(...keys, `try { return ${expr}; } catch (e) { return \"\"; }`)(...values);\n      return result === undefined ? \"\" : result;\n    } catch (error) {\n      console.error(`Template evaluation error:`, {\n        expression: expr,\n        data,\n        error: error.message,\n      });\n      return \"\";\n    }\n  }\n}\n","\"use strict\";\n\n/**\n * @class ‚ö° Signal\n * @classdesc Fine-grained reactivity.\n * A reactive data holder that notifies registered watchers when its value changes,\n * enabling fine-grained DOM patching rather than full re-renders.\n */\nexport class Signal {\n  /**\n   * Creates a new Signal instance.\n   *\n   * @param {*} value - The initial value of the signal.\n   */\n  constructor(value) {\n    /** @private {*} Internal storage for the signal's current value */\n    this._value = value;\n    /** @private {Set<function>} Collection of callback functions to be notified when value changes */\n    this._watchers = new Set();\n    /** @private {boolean} Flag to prevent multiple synchronous watcher notifications and batch updates into microtasks */\n    this._pending = false;\n  }\n\n  /**\n   * Gets the current value of the signal.\n   *\n   * @returns {*} The current value.\n   */\n  get value() {\n    return this._value;\n  }\n\n  /**\n   * Sets a new value for the signal and notifies all registered watchers if the value has changed.\n   *\n   * @param {*} newVal - The new value to set.\n   */\n  set value(newVal) {\n    if (newVal !== this._value) {\n      this._value = newVal;\n      this._notifyWatchers();\n    }\n  }\n\n  /**\n   * Registers a watcher function that will be called whenever the signal's value changes.\n   *\n   * @param {function(any): void} fn - The callback function to invoke on value change.\n   * @returns {function(): boolean} A function to unsubscribe the watcher.\n   */\n  watch(fn) {\n    this._watchers.add(fn);\n    return () => this._watchers.delete(fn);\n  }\n\n  /**\n   * Notifies all registered watchers of a value change using microtask scheduling.\n   * Uses a pending flag to batch multiple synchronous updates into a single notification.\n   * All watcher callbacks receive the current value when executed.\n   *\n   * @private\n   * @returns {void}\n   */\n  _notifyWatchers() {\n    if (!this._pending) {\n      this._pending = true;\n      queueMicrotask(() => {\n        this._pending = false;\n        this._watchers.forEach((fn) => fn(this._value));\n      });\n    }\n  }\n}\n","\"use strict\";\n\n/**\n * @class üéôÔ∏è Emitter\n * @classdesc Robust inter-component communication with event bubbling.\n * Implements a basic publish-subscribe pattern for event handling, allowing components\n * to communicate through custom events.\n */\nexport class Emitter {\n  /**\n   * Creates a new Emitter instance.\n   */\n  constructor() {\n    /** @type {Object.<string, Function[]>} Storage for event handlers mapped by event name */\n    this.events = {};\n  }\n\n  /**\n   * Registers an event handler for the specified event.\n   *\n   * @param {string} event - The name of the event.\n   * @param {function(...any): void} handler - The function to call when the event is emitted.\n   */\n  on(event, handler) {\n    (this.events[event] || (this.events[event] = [])).push(handler);\n  }\n\n  /**\n   * Removes a previously registered event handler.\n   *\n   * @param {string} event - The name of the event.\n   * @param {function(...any): void} handler - The handler function to remove.\n   */\n  off(event, handler) {\n    if (this.events[event]) {\n      this.events[event] = this.events[event].filter((h) => h !== handler);\n    }\n  }\n\n  /**\n   * Emits an event, invoking all handlers registered for that event.\n   *\n   * @param {string} event - The event name.\n   * @param {...any} args - Additional arguments to pass to the event handlers.\n   */\n  emit(event, ...args) {\n    (this.events[event] || []).forEach((handler) => handler(...args));\n  }\n}\n","\"use strict\";\n\n/**\n * @class üé® Renderer\n * @classdesc Handles DOM patching, diffing, and attribute updates.\n * Provides methods for efficient DOM updates by diffing the new and old DOM structures\n * and applying only the necessary changes.\n */\nexport class Renderer {\n  /**\n   * Patches the DOM of a container element with new HTML content.\n   *\n   * @param {HTMLElement} container - The container element to patch.\n   * @param {string} newHtml - The new HTML content to apply.\n   */\n  patchDOM(container, newHtml) {\n    const tempContainer = document.createElement(\"div\");\n    tempContainer.innerHTML = newHtml;\n    this.diff(container, tempContainer);\n  }\n\n  /**\n   * Diffs two DOM trees (old and new) and applies updates to the old DOM.\n   *\n   * @param {HTMLElement} oldParent - The original DOM element.\n   * @param {HTMLElement} newParent - The new DOM element.\n   */\n  diff(oldParent, newParent) {\n    // Fast path for identical nodes\n    if (oldParent.isEqualNode(newParent)) return;\n\n    const oldNodes = oldParent && oldParent.childNodes ? Array.from(oldParent.childNodes) : [];\n    const newNodes = newParent && newParent.childNodes ? Array.from(newParent.childNodes) : [];\n\n    const max = Math.max(oldNodes.length, newNodes.length);\n\n    for (let i = 0; i < max; i++) {\n      const oldNode = oldNodes[i];\n      const newNode = newNodes[i];\n\n      // Case 1: Append new nodes that don't exist in the old tree.\n      if (!oldNode && newNode) {\n        oldParent.appendChild(newNode.cloneNode(true));\n        continue;\n      }\n      // Case 2: Remove old nodes not present in the new tree.\n      if (oldNode && !newNode) {\n        oldParent.removeChild(oldNode);\n        continue;\n      }\n\n      // Case 3: For element nodes, compare keys if available.\n      if (\n        oldNode.nodeType === Node.ELEMENT_NODE &&\n        newNode.nodeType === Node.ELEMENT_NODE\n      ) {\n        const oldKey = oldNode.getAttribute(\"key\");\n        const newKey = newNode.getAttribute(\"key\");\n        if (oldKey || newKey) {\n          if (oldKey !== newKey) {\n            oldParent.replaceChild(newNode.cloneNode(true), oldNode);\n            continue;\n          }\n        }\n      }\n\n      // Case 4: Replace nodes if types or tag names differ.\n      if (\n        oldNode.nodeType !== newNode.nodeType ||\n        oldNode.nodeName !== newNode.nodeName\n      ) {\n        oldParent.replaceChild(newNode.cloneNode(true), oldNode);\n        continue;\n      }\n      // Case 5: For text nodes, update content if different.\n      if (oldNode.nodeType === Node.TEXT_NODE) {\n        if (oldNode.nodeValue !== newNode.nodeValue) {\n          oldNode.nodeValue = newNode.nodeValue;\n        }\n        continue;\n      }\n      // Case 6: For element nodes, update attributes and then diff children.\n      if (oldNode.nodeType === Node.ELEMENT_NODE) {\n        this.updateAttributes(oldNode, newNode);\n        this.diff(oldNode, newNode);\n      }\n    }\n  }\n\n  /**\n   * Updates the attributes of an element to match those of a new element.\n   *\n   * @param {HTMLElement} oldEl - The element to update.\n   * @param {HTMLElement} newEl - The element providing the updated attributes.\n   */\n  updateAttributes(oldEl, newEl) {\n    const attributeToPropertyMap = {\n      value: \"value\",\n      checked: \"checked\",\n      selected: \"selected\",\n      disabled: \"disabled\",\n    };\n\n    // Remove old attributes that no longer exist.\n    Array.from(oldEl.attributes).forEach((attr) => {\n      if (attr.name.startsWith(\"@\")) return;\n      if (!newEl.hasAttribute(attr.name)) {\n        oldEl.removeAttribute(attr.name);\n      }\n    });\n    // Add or update attributes from newEl.\n    Array.from(newEl.attributes).forEach((attr) => {\n      if (attr.name.startsWith(\"@\")) return;\n      if (oldEl.getAttribute(attr.name) !== attr.value) {\n        oldEl.setAttribute(attr.name, attr.value);\n        if (attributeToPropertyMap[attr.name]) {\n          oldEl[attributeToPropertyMap[attr.name]] = attr.value;\n        } else if (attr.name in oldEl) {\n          oldEl[attr.name] = attr.value;\n        }\n      }\n    });\n  }\n}\n","\"use strict\";\n\nimport { TemplateEngine } from \"../modules/TemplateEngine.js\";\nimport { Signal } from \"../modules/Signal.js\";\nimport { Emitter } from \"../modules/Emitter.js\";\nimport { Renderer } from \"../modules/Renderer.js\";\n\n/**\n * Defines the structure and behavior of a component.\n * @typedef {Object} ComponentDefinition\n * @property {function(Object<string, any>): (Object<string, any>|Promise<Object<string, any>>)} [setup]\n *           Optional setup function that initializes the component's reactive state and lifecycle.\n *           Receives props and context as an argument and should return an object containing the component's state.\n *           Can return either a synchronous object or a Promise that resolves to an object for async initialization.\n *\n * @property {function(Object<string, any>): string} template\n *           Required function that defines the component's HTML structure.\n *           Receives the merged context (props + setup data) and must return an HTML template string.\n *           Supports dynamic expressions using {{ }} syntax for reactive data binding.\n *\n * @property {function(Object<string, any>): string} [style]\n *           Optional function that defines component-scoped CSS styles.\n *           Receives the merged context and returns a CSS string that will be automatically scoped to the component.\n *           Styles are injected into the component's container and only affect elements within it.\n *\n * @property {Object<string, ComponentDefinition>} [children]\n *           Optional object that defines nested child components.\n *           Keys are CSS selectors that match elements in the template where child components should be mounted.\n *           Values are ComponentDefinition objects that define the structure and behavior of each child component.\n */\n\n/**\n * @class üß© Eleva\n * @classdesc Signal-based component runtime framework with lifecycle hooks, scoped styles, and plugin support.\n * Manages component registration, plugin integration, event handling, and DOM rendering.\n */\nexport class Eleva {\n  /**\n   * Creates a new Eleva instance.\n   *\n   * @param {string} name - The name of the Eleva instance.\n   * @param {Object<string, any>} [config={}] - Optional configuration for the instance.\n   */\n  constructor(name, config = {}) {\n    /** @type {string} The unique identifier name for this Eleva instance */\n    this.name = name;\n    /** @type {Object<string, any>} Optional configuration object for the Eleva instance */\n    this.config = config;\n    /** @type {Object<string, ComponentDefinition>} Object storing registered component definitions by name */\n    this._components = {};\n    /** @private {Array<Object>} Collection of installed plugin instances */\n    this._plugins = [];\n    /** @private {string[]} Array of lifecycle hook names supported by the component */\n    this._lifecycleHooks = [\n      \"onBeforeMount\",\n      \"onMount\",\n      \"onBeforeUpdate\",\n      \"onUpdate\",\n      \"onUnmount\",\n    ];\n    /** @private {boolean} Flag indicating if component is currently mounted */\n    this._isMounted = false;\n    /** @private {Emitter} Instance of the event emitter for handling component events */\n    this.emitter = new Emitter();\n    /** @private {Renderer} Instance of the renderer for handling DOM updates and patching */\n    this.renderer = new Renderer();\n  }\n\n  /**\n   * Integrates a plugin with the Eleva framework.\n   *\n   * @param {Object} plugin - The plugin object which should have an `install` function.\n   * @param {Object<string, any>} [options={}] - Optional options to pass to the plugin.\n   * @returns {Eleva} The Eleva instance (for chaining).\n   */\n  use(plugin, options = {}) {\n    if (typeof plugin.install === \"function\") {\n      plugin.install(this, options);\n    }\n    this._plugins.push(plugin);\n    return this;\n  }\n\n  /**\n   * Registers a component with the Eleva instance.\n   *\n   * @param {string} name - The name of the component.\n   * @param {ComponentDefinition} definition - The component definition including setup, template, style, and children.\n   * @returns {Eleva} The Eleva instance (for chaining).\n   */\n  component(name, definition) {\n    this._components[name] = definition;\n    return this;\n  }\n\n  /**\n   * Mounts a registered component to a DOM element.\n   *\n   * @param {HTMLElement} container - A DOM element where the component will be mounted.\n   * @param {string|ComponentDefinition} compName - The name of the component to mount or a component definition.\n   * @param {Object<string, any>} [props={}] - Optional properties to pass to the component.\n   * @returns {object|Promise<object>} An object representing the mounted component instance, or a Promise that resolves to it for asynchronous setups.\n   * @throws {Error} If the container is not found or if the component is not registered.\n   */\n  mount(container, compName, props = {}) {\n    if (!container) throw new Error(`Container not found: ${container}`);\n\n    let definition;\n    if (typeof compName === \"string\") {\n      definition = this._components[compName];\n      if (!definition)\n        throw new Error(`Component \"${compName}\" not registered.`);\n    } else if (typeof compName === \"object\") {\n      definition = compName;\n    } else {\n      throw new Error(\"Invalid component parameter.\");\n    }\n\n    /**\n     * Destructure the component definition to access core functionality.\n     * - setup: Optional function for component initialization and state management\n     * - template: Required function that returns the component's HTML structure\n     * - style: Optional function for component-scoped CSS styles\n     * - children: Optional object defining nested child components\n     */\n    const { setup, template, style, children } = definition;\n\n    /**\n     * Creates the initial context object for the component instance.\n     * This context provides core functionality and will be merged with setup data.\n     * @type {Object<string, any>}\n     * @property {Object<string, any>} props - Component properties passed during mounting\n     * @property {Emitter} emitter - Event emitter instance for component event handling\n     * @property {function(any): Signal} signal - Factory function to create reactive Signal instances\n     * @property {Object<string, function(): void>} ...lifecycleHooks - Prepared lifecycle hook functions\n     */\n    const context = {\n      props,\n      emitter: this.emitter,\n      signal: (v) => new Signal(v),\n      ...this._prepareLifecycleHooks(),\n    };\n\n    /**\n     * Use a local flag so each component instance tracks its own mounted state.\n     */\n    let isMounted = false;\n\n    /**\n     * Processes the mounting of the component.\n     *\n     * @param {Object<string, any>} data - Data returned from the component's setup function.\n     * @returns {object} An object with the container, merged context data, and an unmount function.\n     */\n    const processMount = (data) => {\n      const mergedContext = { ...context, ...data };\n      const watcherUnsubscribers = [];\n      const childInstances = [];\n      const cleanupListeners = [];\n\n      if (!this._isMounted) {\n        mergedContext.onBeforeMount && mergedContext.onBeforeMount();\n      } else {\n        mergedContext.onBeforeUpdate && mergedContext.onBeforeUpdate();\n      }\n\n      /**\n       * Renders the component by parsing the template, patching the DOM,\n       * processing events, injecting styles, and mounting child components.\n       */\n      const render = () => {\n        const newHtml = TemplateEngine.parse(\n          template(mergedContext),\n          mergedContext,\n        );\n        this.renderer.patchDOM(container, newHtml);\n        this._processEvents(container, mergedContext, cleanupListeners);\n        this._injectStyles(container, compName, style, mergedContext);\n        this._mountChildren(container, children, childInstances);\n        if (!isMounted) {\n          mergedContext.onMount && mergedContext.onMount();\n          isMounted = true;\n        } else {\n          mergedContext.onUpdate && mergedContext.onUpdate();\n        }\n      };\n\n      /**\n       * Sets up reactive watchers for all Signal instances in the component's data.\n       * When a Signal's value changes, the component will re-render to reflect the updates.\n       * Stores unsubscribe functions to clean up watchers when component unmounts.\n       */\n      Object.values(data).forEach((val) => {\n        if (val instanceof Signal) watcherUnsubscribers.push(val.watch(render));\n      });\n\n      render();\n\n      return {\n        container,\n        data: mergedContext,\n        /**\n         * Unmounts the component, cleaning up watchers and listeners, child components, and clearing the container.\n         *\n         * @returns {void}\n         */\n        unmount: () => {\n          watcherUnsubscribers.forEach((fn) => fn());\n          cleanupListeners.forEach((fn) => fn());\n          childInstances.forEach((child) => child.unmount());\n          mergedContext.onUnmount && mergedContext.onUnmount();\n          container.innerHTML = \"\";\n        },\n      };\n    };\n\n    // Handle asynchronous setup.\n    return Promise.resolve(\n      typeof setup === \"function\" ? setup(context) : {},\n    ).then((data) => processMount(data));\n  }\n\n  /**\n   * Prepares default no-operation lifecycle hook functions.\n   *\n   * @returns {Object<string, function(): void>} An object with keys for lifecycle hooks mapped to empty functions.\n   * @private\n   */\n  _prepareLifecycleHooks() {\n    return this._lifecycleHooks.reduce((acc, hook) => {\n      acc[hook] = () => { };\n      return acc;\n    }, {});\n  }\n\n  /**\n   * Processes DOM elements for event binding based on attributes starting with \"@\".\n   * Tracks listeners for cleanup during unmount.\n   *\n   * @param {HTMLElement} container - The container element in which to search for events.\n   * @param {Object<string, any>} context - The current context containing event handler definitions.\n   * @param {Array<Function>} cleanupListeners - Array to collect cleanup functions for each event listener.\n   * @private\n   */\n  _processEvents(container, context, cleanupListeners) {\n    container.querySelectorAll(\"*\").forEach((el) => {\n      [...el.attributes].forEach(({ name, value }) => {\n        if (name.startsWith(\"@\")) {\n          const event = name.slice(1);\n          const handler = TemplateEngine.evaluate(value, context);\n          if (typeof handler === \"function\") {\n            el.addEventListener(event, handler);\n            el.removeAttribute(name);\n            cleanupListeners.push(() => el.removeEventListener(event, handler));\n          }\n        }\n      });\n    });\n  }\n\n  /**\n   * Injects scoped styles into the component's container.\n   *\n   * @param {HTMLElement} container - The container element.\n   * @param {string} compName - The component name used to identify the style element.\n   * @param {function(Object<string, any>): string} [styleFn] - A function that returns CSS styles as a string.\n   * @param {Object<string, any>} context - The current context for style interpolation.\n   * @private\n   */\n  _injectStyles(container, compName, styleFn, context) {\n    if (styleFn) {\n      let styleEl = container.querySelector(\n        `style[data-eleva-style=\"${compName}\"]`,\n      );\n      if (!styleEl) {\n        styleEl = document.createElement(\"style\");\n        styleEl.setAttribute(\"data-eleva-style\", compName);\n        container.appendChild(styleEl);\n      }\n      styleEl.textContent = TemplateEngine.parse(styleFn(context), context);\n    }\n  }\n\n  /**\n   * Mounts child components within the parent component's container.\n   *\n   * @param {HTMLElement} container - The parent container element.\n   * @param {Object<string, ComponentDefinition>} [children] - An object mapping child component selectors to their definitions.\n   * @param {Array<object>} childInstances - An array to store the mounted child component instances.\n   * @private\n   */\n  _mountChildren(container, children, childInstances) {\n    childInstances.forEach((child) => child.unmount());\n    childInstances.length = 0;\n\n    Object.keys(children || {}).forEach((childSelector) => {\n      container.querySelectorAll(childSelector).forEach((childEl) => {\n        const props = {};\n        [...childEl.attributes].forEach(({ name, value }) => {\n          if (name.startsWith(\"eleva-prop-\")) {\n            props[name.slice(\"eleva-prop-\".length)] = value;\n          }\n        });\n        const instance = this.mount(childEl, children[childSelector], props);\n        childInstances.push(instance);\n      });\n    });\n  }\n}\n"],"names":["TemplateEngine","parse","template","data","trim","replace","_","expr","value","evaluate","undefined","keys","Object","values","result","Function","error","console","expression","message","Signal","constructor","_value","_watchers","Set","_pending","newVal","_notifyWatchers","watch","fn","add","delete","queueMicrotask","forEach","Emitter","events","on","event","handler","push","off","filter","h","emit","args","Renderer","patchDOM","container","newHtml","tempContainer","document","createElement","innerHTML","diff","oldParent","newParent","isEqualNode","oldNodes","childNodes","Array","from","newNodes","max","Math","length","i","oldNode","newNode","appendChild","cloneNode","removeChild","nodeType","Node","ELEMENT_NODE","oldKey","getAttribute","newKey","replaceChild","nodeName","TEXT_NODE","nodeValue","updateAttributes","oldEl","newEl","attributeToPropertyMap","checked","selected","disabled","attributes","attr","name","startsWith","hasAttribute","removeAttribute","setAttribute","Eleva","config","_components","_plugins","_lifecycleHooks","_isMounted","emitter","renderer","use","plugin","options","install","component","definition","mount","compName","props","Error","setup","style","children","context","signal","v","_prepareLifecycleHooks","isMounted","processMount","mergedContext","watcherUnsubscribers","childInstances","cleanupListeners","onBeforeMount","onBeforeUpdate","render","_processEvents","_injectStyles","_mountChildren","onMount","onUpdate","val","unmount","child","onUnmount","Promise","resolve","then","reduce","acc","hook","querySelectorAll","el","slice","addEventListener","removeEventListener","styleFn","styleEl","querySelector","textContent","childSelector","childEl","instance"],"mappings":"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"}