{"version":3,"file":"props.umd.js","sources":["../../src/plugins/Props.js"],"sourcesContent":["\"use strict\";\n\n/**\n * @class ðŸŽ¯ PropsPlugin\n * @classdesc A plugin that extends Eleva's props data handling to support any type of data structure\n * with automatic type detection, parsing, and reactive prop updates. This plugin enables seamless\n * passing of complex data types from parent to child components without manual parsing.\n * \n * Core Features:\n * - Automatic type detection and parsing (strings, numbers, booleans, objects, arrays, dates, etc.)\n * - Support for complex data structures including nested objects and arrays\n * - Reactive props that automatically update when parent data changes\n * - Comprehensive error handling with custom error callbacks\n * - Simple configuration with minimal setup required\n *\n * @example\n * // Install the plugin\n * const app = new Eleva(\"myApp\");\n * app.use(PropsPlugin, {\n *   enableAutoParsing: true,\n *   enableReactivity: true,\n *   onError: (error, value) => {\n *     console.error('Props parsing error:', error, value);\n *   }\n * });\n *\n * // Use complex props in components\n * app.component(\"UserCard\", {\n *   template: (ctx) => `\n *     <div class=\"user-info-container\"\n *          :user='${JSON.stringify(ctx.user.value)}'\n *          :permissions='${JSON.stringify(ctx.permissions.value)}'\n *          :settings='${JSON.stringify(ctx.settings.value)}'>\n *     </div>\n *   `,\n *   children: {\n *     '.user-info-container': 'UserInfo'\n *   }\n * });\n * \n * app.component(\"UserInfo\", {\n *   setup({ props }) {\n *     return {\n *       user: props.user,        // Automatically parsed object\n *       permissions: props.permissions,  // Automatically parsed array\n *       settings: props.settings  // Automatically parsed object\n *     };\n *   }\n * });\n */\nexport const PropsPlugin = {\n    /**\n     * Unique identifier for the plugin\n     * @type {string}\n     */\n    name: \"props\",\n\n    /**\n     * Plugin version\n     * @type {string}\n     */\n    version: \"1.0.0-rc.1\",\n\n    /**\n     * Plugin description\n     * @type {string}\n     */\n    description: \"Advanced props data handling for complex data structures with automatic type detection and reactivity\",\n\n    /**\n     * Installs the plugin into the Eleva instance\n     *\n     * @param {Object} eleva - The Eleva instance\n     * @param {Object} options - Plugin configuration options\n     * @param {boolean} [options.enableAutoParsing=true] - Enable automatic type detection and parsing\n     * @param {boolean} [options.enableReactivity=true] - Enable reactive prop updates using Eleva's signal system\n     * @param {Function} [options.onError=null] - Error handler function called when parsing fails\n     * \n     * @example\n     * // Basic installation\n     * app.use(PropsPlugin);\n     * \n     * // Installation with custom options\n     * app.use(PropsPlugin, {\n     *   enableAutoParsing: true,\n     *   enableReactivity: false,\n     *   onError: (error, value) => {\n     *     console.error('Props parsing error:', error, value);\n     *   }\n     * });\n     */\n    install(eleva, options = {}) {\n        const {\n            enableAutoParsing = true,\n            enableReactivity = true,\n            onError = null\n        } = options;\n\n        /**\n         * Detects the type of a given value\n         * @private\n         * @param {any} value - The value to detect type for\n         * @returns {string} The detected type ('string', 'number', 'boolean', 'object', 'array', 'date', 'map', 'set', 'function', 'null', 'undefined', 'unknown')\n         * \n         * @example\n         * detectType(\"hello\")     // â†’ \"string\"\n         * detectType(42)          // â†’ \"number\"\n         * detectType(true)        // â†’ \"boolean\"\n         * detectType([1, 2, 3])   // â†’ \"array\"\n         * detectType({})          // â†’ \"object\"\n         * detectType(new Date())  // â†’ \"date\"\n         * detectType(null)        // â†’ \"null\"\n         */\n        const detectType = (value) => {\n            if (value === null) return 'null';\n            if (value === undefined) return 'undefined';\n            if (typeof value === 'boolean') return 'boolean';\n            if (typeof value === 'number') return 'number';\n            if (typeof value === 'string') return 'string';\n            if (typeof value === 'function') return 'function';\n            if (value instanceof Date) return 'date';\n            if (value instanceof Map) return 'map';\n            if (value instanceof Set) return 'set';\n            if (Array.isArray(value)) return 'array';\n            if (typeof value === 'object') return 'object';\n            return 'unknown';\n        };\n\n        /**\n         * Parses a prop value with automatic type detection\n         * @private\n         * @param {any} value - The value to parse\n         * @returns {any} The parsed value with appropriate type\n         * \n         * @description\n         * This function automatically detects and parses different data types from string values:\n         * - Special strings: \"true\" â†’ true, \"false\" â†’ false, \"null\" â†’ null, \"undefined\" â†’ undefined\n         * - JSON objects/arrays: '{\"key\": \"value\"}' â†’ {key: \"value\"}, '[1, 2, 3]' â†’ [1, 2, 3]\n         * - Boolean-like strings: \"1\" â†’ true, \"0\" â†’ false, \"\" â†’ true\n         * - Numeric strings: \"42\" â†’ 42, \"3.14\" â†’ 3.14\n         * - Date strings: \"2023-01-01T00:00:00.000Z\" â†’ Date object\n         * - Other strings: returned as-is\n         * \n         * @example\n         * parsePropValue(\"true\")           // â†’ true\n         * parsePropValue(\"42\")             // â†’ 42\n         * parsePropValue('{\"key\": \"val\"}') // â†’ {key: \"val\"}\n         * parsePropValue('[1, 2, 3]')      // â†’ [1, 2, 3]\n         * parsePropValue(\"hello\")          // â†’ \"hello\"\n         */\n        const parsePropValue = (value) => {\n            try {\n                // Handle non-string values - return as-is\n                if (typeof value !== 'string') {\n                    return value;\n                }\n\n                // Handle special string patterns first\n                if (value === 'true') return true;\n                if (value === 'false') return false;\n                if (value === 'null') return null;\n                if (value === 'undefined') return undefined;\n\n                // Try to parse as JSON (for objects and arrays)\n                // This handles complex data structures like objects and arrays\n                if (value.startsWith('{') || value.startsWith('[')) {\n                    try {\n                        return JSON.parse(value);\n                    } catch (e) {\n                        // Not valid JSON, throw error to trigger error handler\n                        throw new Error(`Invalid JSON: ${value}`);\n                    }\n                }\n\n                // Handle boolean-like strings (including \"1\" and \"0\")\n                // These are common in HTML attributes and should be treated as booleans\n                if (value === '1') return true;\n                if (value === '0') return false;\n                if (value === '') return true; // Empty string is truthy in HTML attributes\n\n                // Handle numeric strings (after boolean check to avoid conflicts)\n                // This ensures \"0\" is treated as boolean false, not number 0\n                if (!isNaN(value) && value !== '' && !isNaN(parseFloat(value))) {\n                    return Number(value);\n                }\n\n                // Handle date strings (ISO format)\n                // Recognizes standard ISO date format and converts to Date object\n                if (value.match(/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}/)) {\n                    const date = new Date(value);\n                    if (!isNaN(date.getTime())) {\n                        return date;\n                    }\n                }\n\n                // Return as string if no other parsing applies\n                // This is the fallback for regular text strings\n                return value;\n\n            } catch (error) {\n                // Call error handler if provided\n                if (onError) {\n                    onError(error, value);\n                }\n                // Fallback to original value to prevent breaking the application\n                return value;\n            }\n        };\n\n        /**\n         * Enhanced props extraction with automatic type detection\n         * @private\n         * @param {HTMLElement} element - The DOM element to extract props from\n         * @returns {Object} Object containing parsed props with appropriate types\n         * \n         * @description\n         * Extracts props from DOM element attributes that start with \":\" and automatically\n         * parses them to their appropriate types. Removes the attributes from the element\n         * after extraction.\n         * \n         * @example\n         * // HTML: <div :name=\"John\" :age=\"30\" :active=\"true\" :data='{\"key\": \"value\"}'></div>\n         * const props = extractProps(element);\n         * // Result: { name: \"John\", age: 30, active: true, data: {key: \"value\"} }\n         */\n        const extractProps = (element) => {\n            const props = {};\n            const attrs = element.attributes;\n\n            // Iterate through attributes in reverse order to handle removal correctly\n            for (let i = attrs.length - 1; i >= 0; i--) {\n                const attr = attrs[i];\n                // Only process attributes that start with \":\" (prop attributes)\n                if (attr.name.startsWith(\":\")) {\n                    const propName = attr.name.slice(1); // Remove the \":\" prefix\n                    // Parse the value if auto-parsing is enabled, otherwise use as-is\n                    const parsedValue = enableAutoParsing ? parsePropValue(attr.value) : attr.value;\n                    props[propName] = parsedValue;\n                    // Remove the attribute from the DOM element after extraction\n                    element.removeAttribute(attr.name);\n                }\n            }\n\n            return props;\n        };\n\n        /**\n         * Creates reactive props using Eleva's signal system\n         * @private\n         * @param {Object} props - The props object to make reactive\n         * @returns {Object} Object containing reactive props (Eleva signals)\n         * \n         * @description\n         * Converts regular prop values into Eleva signals for reactive updates.\n         * If a value is already a signal, it's passed through unchanged.\n         * \n         * @example\n         * const props = { name: \"John\", age: 30, active: true };\n         * const reactiveProps = createReactiveProps(props);\n         * // Result: { \n         * //   name: Signal(\"John\"), \n         * //   age: Signal(30), \n         * //   active: Signal(true) \n         * // }\n         */\n        const createReactiveProps = (props) => {\n            const reactiveProps = {};\n\n            // Convert each prop value to a reactive signal\n            Object.entries(props).forEach(([key, value]) => {\n                // Check if value is already a signal (has 'value' and 'watch' properties)\n                if (value && typeof value === 'object' && 'value' in value && 'watch' in value) {\n                    // Value is already a signal, use it as-is\n                    reactiveProps[key] = value;\n                } else {\n                    // Create new signal for the prop value to make it reactive\n                    reactiveProps[key] = new eleva.signal(value);\n                }\n            });\n\n            return reactiveProps;\n        };\n\n        // Override Eleva's internal _extractProps method with our enhanced version\n        eleva._extractProps = extractProps;\n\n        // Override Eleva's mount method to apply enhanced prop handling\n        const originalMount = eleva.mount;\n        eleva.mount = async (container, compName, props = {}) => {\n            // Create reactive props if reactivity is enabled\n            const enhancedProps = enableReactivity ? createReactiveProps(props) : props;\n\n            // Call the original mount method with enhanced props\n            return await originalMount.call(eleva, container, compName, enhancedProps);\n        };\n\n        /**\n         * Expose utility methods on the Eleva instance\n         * @namespace eleva.props\n         */\n        eleva.props = {\n            /**\n             * Parse a single value with automatic type detection\n             * @param {any} value - The value to parse\n             * @returns {any} The parsed value with appropriate type\n             * \n             * @example\n             * app.props.parse(\"42\")             // â†’ 42\n             * app.props.parse(\"true\")           // â†’ true\n             * app.props.parse('{\"key\": \"val\"}') // â†’ {key: \"val\"}\n             */\n            parse: (value) => {\n                // Return value as-is if auto parsing is disabled\n                if (!enableAutoParsing) {\n                    return value;\n                }\n                // Use our enhanced parsing function\n                return parsePropValue(value);\n            },\n\n            /**\n             * Detect the type of a value\n             * @param {any} value - The value to detect type for\n             * @returns {string} The detected type\n             * \n             * @example\n             * app.props.detectType(\"hello\")     // â†’ \"string\"\n             * app.props.detectType(42)          // â†’ \"number\"\n             * app.props.detectType([1, 2, 3])   // â†’ \"array\"\n             */\n            detectType\n        };\n\n        // Store original methods for uninstall\n        eleva._originalExtractProps = eleva._extractProps;\n        eleva._originalMount = originalMount;\n    },\n\n    /**\n     * Uninstalls the plugin from the Eleva instance\n     *\n     * @param {Object} eleva - The Eleva instance\n     * \n     * @description\n     * Restores the original Eleva methods and removes all plugin-specific\n     * functionality. This method should be called when the plugin is no\n     * longer needed.\n     * \n     * @example\n     * // Uninstall the plugin\n     * PropsPlugin.uninstall(app);\n     */\n    uninstall(eleva) {\n        // Restore original _extractProps method\n        if (eleva._originalExtractProps) {\n            eleva._extractProps = eleva._originalExtractProps;\n            delete eleva._originalExtractProps;\n        }\n\n        // Restore original mount method\n        if (eleva._originalMount) {\n            eleva.mount = eleva._originalMount;\n            delete eleva._originalMount;\n        }\n\n        // Remove plugin utility methods\n        if (eleva.props) {\n            delete eleva.props;\n        }\n    }\n};"],"names":["PropsPlugin","name","version","description","install","eleva","options","enableAutoParsing","enableReactivity","onError","detectType","value","undefined","Date","Map","Set","Array","isArray","parsePropValue","startsWith","JSON","parse","e","Error","isNaN","parseFloat","Number","match","date","getTime","error","extractProps","element","props","attrs","attributes","i","length","attr","propName","slice","parsedValue","removeAttribute","createReactiveProps","reactiveProps","Object","entries","forEach","key","signal","_extractProps","originalMount","mount","container","compName","enhancedProps","call","_originalExtractProps","_originalMount","uninstall"],"mappings":"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"}